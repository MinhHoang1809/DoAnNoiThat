<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="target.css">
</head>

<body>
    <div id="caculator">
        <div class="input" id="input"></div>
        <div id="buttons">
            <div id="operators" class="operators">
                <div>+</div>
                <div>-</div>
                <div>&times;</div>
                <div>&divide;</div>
            </div>
            <div id="leftPanel">
                <div id="numbers" class="numbers">
                    <div>7</div>
                    <div>8</div>
                    <div>9</div>
                </div>
                <div id="numbers" class="numbers">
                    <div>4</div>
                    <div>5</div>
                    <div>6</div>
                </div>
                <div id="numbers" class="numbers">
                    <div>1</div>
                    <div>2</div>
                    <div>3</div>
                </div>
                <div id="numbers" class="numbers">
                    <div>0</div>
                    <div>.</div>
                    <div id="clear">C</div>
                </div>
            </div>
            <div class="equal" id="result">=</div>
        </div>
    </div>

    <script>
        "use strict";

        var input = document.getElementById('input');
        var number = document.querySelectorAll('.numbers div');
        var operator = document.querySelectorAll('.operators div');
        var result = document.getElementById('result');
        var clear = document.getElementById('clear');
        var resultDisplayed = false;

        for (let i = 0; i < number.length; i++) {
            number[i].addEventListener('click', function (e) {
                var currentString = input.innerHTML;
                var lastChar = currentString[currentString.length - 1];

                if (resultDisplayed === false) {
                    input.innerHTML += e.target.innerHTML;
                } else if (resultDisplayed === true && lastChar === "+" || lastChar === "-" ||
                    lastChar === "×" || lastChar === "÷") {
                    resultDisplayed = false;
                    input.innerHTML += e.target.innerHTML;
                } else {
                    resultDisplayed = false;
                    input.innerHTML = '';
                    input.innerHTML += e.target.innerHTML;
                }
            });
        }

        for (let i = 0; i < operator.length - 1; i++) {
            operator[i].addEventListener('click', function (e) {
                var currentString = input.innerHTML;
                var lastChar = currentString[currentString.length - 1];

                if (lastChar === "+" || lastChar === "-" || lastChar === "×" || lastChar === "÷") {
                    var newString = currentString.substring(0, currentString.length - 1) + e.target.innerHTML;
                    input.innerHTML = newString;
                } else if (currentString.length === 0) {
                    console.log('please input number');
                } else {
                    input.innerHTML += e.target.innerHTML;
                }
            });
        }

        result.addEventListener('click', function () {
            var inputString = input.innerHTML;

            var numbers = inputString.split(/\+|\-|\×|\÷/g);
            var operators = inputString.replace(/[0-9]|\./g, "").split("");
            
            alert(operators);
           

        })
    </script>
</body>

</html>